<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title></title>
        <link>undefined</link>
        <description>undefined</description>
        <lastBuildDate>Fri, 23 Feb 2024 09:06:31 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>Joplin Pages Publisher</generator>
        <item>
            <title><![CDATA[docker配置日志]]></title>
            <guid>5c6966d71cfd4b058dd1b15cb88818a6</guid>
            <pubDate>Mon, 15 Jan 2024 08:28:10 GMT</pubDate>
            <content:encoded><![CDATA[/etc/docker/daemon.json<br />
{<br />
"log-driver": "json-file",<br />
"log-opts": {<br />
"max-size": "10m",<br />
"max-file": "3"<br />
}<br />
}]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[普通用户运行Docker]]></title>
            <guid>349573aa38bc4745bbd197b4a1bd2f1d</guid>
            <pubDate>Mon, 15 Jan 2024 08:12:21 GMT</pubDate>
            <content:encoded><![CDATA[<h2 id="1创建docker组">1.创建docker组</h2>
<p><code>$sudo groupadd docker</code></p>
<h2 id="2-添加当前用户到docker组">2. 添加当前用户到docker组</h2>
<p><code>$sudo usermod -aG docker $USER</code></p>
<h2 id="3重新登录验证普通用户运行docker">3.重新登录验证普通用户运行docker</h2>
<p><code>$ docker run hello-world</code></p>
<p>##########################</p>
<p>如果在进行如上配置之前，已经使用sudo 运行了docker，可能会遇到如下错误:</p>
<div><pre class="hljs"><code>content_copy
WARNING: Error loading config <span class="hljs-keyword">file</span>: <span class="hljs-regexp">/home/u</span>ser<span class="hljs-regexp">/.docker/</span>config.json -
stat <span class="hljs-regexp">/home/u</span>ser<span class="hljs-regexp">/.docker/</span>config.json: permission denied
<span class="hljs-keyword">This</span> error indicates that the permission settings <span class="hljs-keyword">for</span> the ~<span class="hljs-regexp">/.docker/</span> directory are incorrect, due to having used the sudo command earlier.</code></pre></div>
<p>解决方法:<br />
1.删除 ~/.docker/ directory (会自动创建、但是个性化配置会丢失),<br />
2.或使用如下命令修改所有者和用户组:</p>
<div><pre class="hljs"><code>sudo <span class="hljs-keyword">chown</span> <span class="hljs-string">"$USER"</span>:<span class="hljs-string">"$USER"</span> /home/<span class="hljs-string">"$USER"</span>/.docker -R
sudo <span class="hljs-keyword">chmod</span> g+rwx <span class="hljs-string">"$HOME/.docker"</span> -R</code></pre></div>
]]></content:encoded>
        </item>
    </channel>
</rss>